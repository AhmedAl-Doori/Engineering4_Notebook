from flask import Flask, render_template, request
from flask_socketio import SocketIO
import RPi.GPIO as GPIO
from time import sleep 
from threading import Thread, Event

GPIO.setwarnings(False)
GPIO.setmode(GPIO.BCM)
GPIO.setup(17,GPIO.OUT)

app = Flask(__name__)
app.config['SECRET_KEY'] = 'secret!'
socketio = SocketIO(app)

thread = Thread()
thread_stop_event = Event()

class blink_thread(Thread):
	while True:
		GPIO.output(17,GPIO.HIGH)
		sleep(2)
		GPIO.output(17,GPIO.LOW)
		sleep(2)

@app.route("/")
def home():
	return render_template("home.html")


@app.route("/blink")
def blink():
	thread = 
	t1.start()
	state = GPIO.input(17)
	templateData = {"LED" : state}nano
	return render_template("blink.html",**templateData)

@socketio.on('light')

@app.route("/switch")
def switch():
	state = GPIO.input(17)
	return render_template("switch.html",state)

if __name__ == "__main__":
     socketio.run(app,host="0.0.0.0",port=80)
